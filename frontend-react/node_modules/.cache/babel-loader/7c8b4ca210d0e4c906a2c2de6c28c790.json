{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bmcda\\\\desktop\\\\projects\\\\ebay-buddy\\\\frontend-react\\\\src\\\\components\\\\PayForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { CardElement, useElements, useStripe } from '@stripe/react-stripe-js';\nimport axios from 'axios'; //call to backend\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CARD_OPTIONS = {\n  iconStyle: \"solid\",\n  style: {\n    base: {\n      iconColor: \"#c4f0ff\",\n      color: \"#fff\",\n      fontWeight: 500,\n      fontFamily: \"Roboto, Open Sans, Segoe UI, sans-serif\",\n      fontSize: \"16px\",\n      fontSmoothing: \"antialiased\",\n      \":-webkit-autofill\": {\n        color: \"#fce883\"\n      },\n      \"::placeholder\": {\n        color: \"#87bbfd\"\n      }\n    },\n    invalid: {\n      iconColor: \"#ffc7ee\",\n      color: \"#ffc7ee\"\n    }\n  }\n};\nexport default function PayForm() {\n  _s();\n\n  const [success, setSuccess] = useState(false);\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: 'card',\n      card: elements.getElement(CardElement)\n    });\n\n    if (!error) {\n      try {\n        const {\n          id\n        } = paymentMethod;\n        const response = await axios.post('http://localhost:3000/donate', {\n          amount: 500,\n          //$5 in cents\n          id: id\n        });\n\n        if (response.data.success) {\n          console.log('Thanks for donating');\n          setSuccess(true);\n        }\n      } catch (error) {\n        console.log('Error:', error);\n      }\n    } else {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !success ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n        className: \"FormGroup\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"FormRow\",\n          children: /*#__PURE__*/_jsxDEV(CardElement, {\n            options: CARD_OPTIONS\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Donate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Thanks for donating!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(PayForm, \"6hDlQMsgCa6cRk+jdFUeEqLw/RU=\", false, function () {\n  return [useStripe, useElements];\n});\n\n_c = PayForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PayForm\");","map":{"version":3,"names":["React","useState","CardElement","useElements","useStripe","axios","CARD_OPTIONS","iconStyle","style","base","iconColor","color","fontWeight","fontFamily","fontSize","fontSmoothing","invalid","PayForm","success","setSuccess","stripe","elements","handleSubmit","e","preventDefault","error","paymentMethod","createPaymentMethod","type","card","getElement","id","response","post","amount","data","console","log"],"sources":["C:/Users/bmcda/desktop/projects/ebay-buddy/frontend-react/src/components/PayForm.js"],"sourcesContent":["import React, {useState} from 'react'\r\nimport { CardElement, useElements, useStripe } from '@stripe/react-stripe-js'\r\nimport axios from 'axios' //call to backend\r\n\r\nconst CARD_OPTIONS = {\r\n\ticonStyle: \"solid\",\r\n\tstyle: {\r\n\t\tbase: {\r\n\t\t\ticonColor: \"#c4f0ff\",\r\n\t\t\tcolor: \"#fff\",\r\n\t\t\tfontWeight: 500,\r\n\t\t\tfontFamily: \"Roboto, Open Sans, Segoe UI, sans-serif\",\r\n\t\t\tfontSize: \"16px\",\r\n\t\t\tfontSmoothing: \"antialiased\",\r\n\t\t\t\":-webkit-autofill\": { color: \"#fce883\" },\r\n\t\t\t\"::placeholder\": { color: \"#87bbfd\" }\r\n\t\t},\r\n\t\tinvalid: {\r\n\t\t\ticonColor: \"#ffc7ee\",\r\n\t\t\tcolor: \"#ffc7ee\"\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default function PayForm() {\r\n    const [success, setSuccess] = useState(false)\r\n    const stripe = useStripe()\r\n    const elements = useElements()\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        const {error, paymentMethod} = await stripe.createPaymentMethod({\r\n            type: 'card',\r\n            card: elements.getElement(CardElement)\r\n        })\r\n\r\n        if(!error) {\r\n            try {\r\n                const {id} = paymentMethod\r\n                const response = await axios.post('http://localhost:3000/donate', {\r\n                    amount: 500, //$5 in cents\r\n                    id: id\r\n                })\r\n                if(response.data.success) {\r\n                    console.log('Thanks for donating')\r\n                    setSuccess(true)\r\n                }\r\n            } catch (error) {\r\n                console.log('Error:', error)\r\n            }\r\n        } else {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n\r\n  return (\r\n    <>\r\n      {!success ?\r\n      <form onSubmit={handleSubmit}>\r\n          <fieldset className='FormGroup'>\r\n              <div className='FormRow'>\r\n                  <CardElement options={CARD_OPTIONS} />\r\n              </div>\r\n          </fieldset>\r\n          <button>Donate</button>\r\n      </form>\r\n      :\r\n      <div>\r\n          <h2>Thanks for donating!</h2>\r\n      </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAASC,WAAT,EAAsBC,WAAtB,EAAmCC,SAAnC,QAAoD,yBAApD;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAA0B;;;;AAE1B,MAAMC,YAAY,GAAG;EACpBC,SAAS,EAAE,OADS;EAEpBC,KAAK,EAAE;IACNC,IAAI,EAAE;MACLC,SAAS,EAAE,SADN;MAELC,KAAK,EAAE,MAFF;MAGLC,UAAU,EAAE,GAHP;MAILC,UAAU,EAAE,yCAJP;MAKLC,QAAQ,EAAE,MALL;MAMLC,aAAa,EAAE,aANV;MAOL,qBAAqB;QAAEJ,KAAK,EAAE;MAAT,CAPhB;MAQL,iBAAiB;QAAEA,KAAK,EAAE;MAAT;IARZ,CADA;IAWNK,OAAO,EAAE;MACRN,SAAS,EAAE,SADH;MAERC,KAAK,EAAE;IAFC;EAXH;AAFa,CAArB;AAoBA,eAAe,SAASM,OAAT,GAAmB;EAAA;;EAC9B,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBlB,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAMmB,MAAM,GAAGhB,SAAS,EAAxB;EACA,MAAMiB,QAAQ,GAAGlB,WAAW,EAA5B;;EAEA,MAAMmB,YAAY,GAAG,MAAOC,CAAP,IAAa;IAC9BA,CAAC,CAACC,cAAF;IACA,MAAM;MAACC,KAAD;MAAQC;IAAR,IAAyB,MAAMN,MAAM,CAACO,mBAAP,CAA2B;MAC5DC,IAAI,EAAE,MADsD;MAE5DC,IAAI,EAAER,QAAQ,CAACS,UAAT,CAAoB5B,WAApB;IAFsD,CAA3B,CAArC;;IAKA,IAAG,CAACuB,KAAJ,EAAW;MACP,IAAI;QACA,MAAM;UAACM;QAAD,IAAOL,aAAb;QACA,MAAMM,QAAQ,GAAG,MAAM3B,KAAK,CAAC4B,IAAN,CAAW,8BAAX,EAA2C;UAC9DC,MAAM,EAAE,GADsD;UACjD;UACbH,EAAE,EAAEA;QAF0D,CAA3C,CAAvB;;QAIA,IAAGC,QAAQ,CAACG,IAAT,CAAcjB,OAAjB,EAA0B;UACtBkB,OAAO,CAACC,GAAR,CAAY,qBAAZ;UACAlB,UAAU,CAAC,IAAD,CAAV;QACH;MACJ,CAVD,CAUE,OAAOM,KAAP,EAAc;QACZW,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBZ,KAAtB;MACH;IACJ,CAdD,MAcO;MACHW,OAAO,CAACC,GAAR,CAAYZ,KAAZ;IACH;EACJ,CAxBD;;EA2BF,oBACE;IAAA,UACG,CAACP,OAAD,gBACD;MAAM,QAAQ,EAAEI,YAAhB;MAAA,wBACI;QAAU,SAAS,EAAC,WAApB;QAAA,uBACI;UAAK,SAAS,EAAC,SAAf;UAAA,uBACI,QAAC,WAAD;YAAa,OAAO,EAAEhB;UAAtB;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ,eAMI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QANJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADC,gBAUD;MAAA,uBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA;EAXF,iBADF;AAkBD;;GAlDuBW,O;UAELb,S,EACED,W;;;KAHGc,O"},"metadata":{},"sourceType":"module"}